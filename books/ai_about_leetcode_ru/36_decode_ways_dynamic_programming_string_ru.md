# 36. Decode Ways: декодирование строки как проверка аккуратности переходов

С этой задачей многие спешат и теряют баллы на деталях. Здесь решает дисциплина: каждую цифру и каждую пару цифр нужно обрабатывать строго по правилам.

Подход через dynamic programming (динамическое программирование):
- `dp[i]` — число способов декодировать префикс длины `i`;
- `dp[0] = 1` как пустая база;
- если текущий символ не равен `'0'`, добавляем `dp[i - 1]`;
- если пара символов формирует число от 10 до 26, добавляем `dp[i - 2]`.

Сложность:
- время: **O(n)**;
- память: **O(n)**, либо **O(1)** при сжатии состояний.

Термины:
- **single-step transition** — переход по одной цифре;
- **double-step transition** — переход по паре цифр;
- **validity constraint** — ограничение корректности кодировки.

Пример на Go:

```go
package main

func numDecodings(s string) int {
    n := len(s)
    if n == 0 || s[0] == '0' {
        return 0
    }

    dp := make([]int, n+1)
    dp[0], dp[1] = 1, 1

    for i := 2; i <= n; i++ {
        one := s[i-1]
        if one != '0' {
            dp[i] += dp[i-1]
        }

        two := (s[i-2]-'0')*10 + (s[i-1] - '0')
        if two >= 10 && two <= 26 {
            dp[i] += dp[i-2]
        }
    }

    return dp[n]
}
```

Интервью-ответ:

> “I treat decoding as counting valid paths over the string. Each index can be reached by a legal one-digit or two-digit transition, and dynamic programming sums both contributions.”  
> [«Я рассматриваю декодирование как подсчёт числа валидных путей по строке. Каждый индекс достижим через корректный переход по одной или двум цифрам, а динамическое программирование суммирует оба вклада».]

Фразы для фиксации:
- “Zero is a rule, not a digit.”  
  [«Ноль здесь правило, а не просто цифра».]
- “Count paths, don’t improvise.”  
  [«Считай пути, а не импровизируй».]

Практический мостик: похожий подход применяют при разборе кодов событий, валидации форматов сообщений и подсчёте допустимых сценариев обработки.

Вы уже замечаете разницу: вместо тревоги на краевых случаях появляется спокойный контроль переходов. Именно это интервьюер и ждёт.

Полезные ссылки:
- [Decode Ways на LeetCode](https://leetcode.com/problems/decode-ways/)
- [Глава про House Robber](./35_house_robber_dynamic_programming_choices_ru.md)
- [Оглавление книги](./README.md)
